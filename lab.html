<!DOCTYPE html>
<html>
<head>
    <title>Lab Thursday</title>
    <style>
        .error {
        color: red;
        font-size: 12px;
        display: none;
        }
        .hidden {
        display: none; 
        }
        input:focus, select:focus {
        border: 2px solid blue;
        }
        </style>

    


</head>

<body>
    <h2>Conference Registration</h2>

    <form id="registrationForm">
        <label for = "name">Full Name:</label>
        <input type="text" id="name">
        <span id = "name Error" class="error">Name is required</span>
        <br><br>


        <label for="email">Email:</label>
        <input type="email" id ="email">
        <span id = "emailError" class="error">Email is required</span>
        <br><br>

        <label for="ticket">Ticket Type:</label>
        <select id ="ticket">
            <option value="free">Free</option>
            <option value="standard">Standard</option>
            <option value="vip">VIP</option>
        </select>
        <br><br>

        <div id="companyField" class="hidden">
            <label for ="company">Company Name:</label>
            <input type="text" id="company">
            <span id="companyError" class="error">Company name is required for VIP</span>
            <br><br>
        </div>

        <button id="submit">Register</button>

    </form>

        
</body>


<script>
    window.onload = function () {
        const companyField = document.getElementById("companyField");
        const ticketSelect = document.getElementById("ticket");

        companyField.classList.add("hidden");

        ticketSelect.onchange = function () {
            if (this.value === "vip") {
                companyField.classList.remove("hidden");
            } else {
                companyField.classList.add("hidden");
            }
        };
    };

    function validateInput(input) {
        let errorMessage = document.getElementById(input.id + "Error");
        if (input.value.trim() === "") {
            errorMessage.style.display = "inline";
        } else {
            errorMessage.style.display = "none";
        }
    }

    document.getElementById("name").onblur = function () {
        validateInput(this);
    };
    document.getElementById("email").onblur = function () {
        validateInput(this);
    };
    document.getElementById("company").onblur = function () {
        validateInput(this);
    };

    document.getElementById("submit").onclick = function (event) {
        event.preventDefault();
        let name = document.getElementById("name");
        let email = document.getElementById("email");
        let ticket = document.getElementById("ticket").value;
        let company = document.getElementById("company");

        validateInput(name);
        validateInput(email);
        if (ticket === "vip") {
            validateInput(company);
        }

        let errors = document.querySelectorAll(".error");
        let hasError = false;
        errors.forEach((error) => {
            if (error.style.display === "inline") {
                hasError = true;
            }
        });

        if (!hasError) {
            alert("Registration Successful!");
        }
    };
</script>
</script>
</html>